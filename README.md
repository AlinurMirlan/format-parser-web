# format-parser-web

## Постановка задачи

Есть несколько видов файлов заданий для олимпиад по программированию:

1. KRSU
2. CATS
3. PCMS2
4. EJUDGE
   Каждый формат представляет из себя архив с определённой структурой, в которой содержится текстовый документ, описывающий сам архив. Будем дальше архив (ZIP файл) называть «пакетом».
   Требуется сделать MVC приложение, которое будет конвертировать файлы из одного формата в другой. Должно состоять из компонентов и подключаемых модулей.
   Основная программа представляет собой web приложение, которое позволяет загрузить «пакет» определённого формата (может быть выбран или автоматически определен). Далее приложении должно предоставить выбор в какой формат преобразовать и после преобразования должна быть возможность скачать преобразованный «пакет» в новом формате.
   Информация о текущем загруженном «пакете» должна выводиться в приложении. «Пакет» должен проверяться на правильность при загрузке.
   Так же программа должна предоставлять возможность догружать подключаемые модули преобразования «пакетов» через системы плагинов. В базовой версии это может быть просто папка рядом с приложением, куда можно положить новый модуль преобразования и он должен появиться в меню.
   Модуль преобразования должен уметь преобразовывать из одного формата в другой.
   В программе должно быть 2 роли – пользователь и администратор.
   Пользователь имеет права конвертировать какие-то пакеты.
   Администратор – может устанавливать права на конвертацию и добавлять модули преобразования в программу. Так же администратор имеет право регистрировать новых пользователей.

## Руководство пользователя

Прежде чем пользоваться функционалом веб-сайта, пользователям сначало нужно зарегистрироваться. После чего они попадают
в клавное меню (вкладка Home), где могут преобразовывать форматы из одного вида в другой. Однако изначально у них
отсутствуют права на использование каких-либо преобразователей, и им нужно обратиться к администратору за ними.

## Руководтсво администратора

Логин - alinur.admin@gmail.com \
Пароль - P@ssw0rd? \
Администратору доступна вкладка Admin, где он может \

1. Manage user permissions - управлять правами пользователей на использование доступных преобразователей.
   Здесь админиистратор вводит почту пользователя права которых он хочет поменять, и переключает нужные ему
   права (зажатием Ctrl и нажатием левой кнопкой мыши)
2. Register a user - регистрировать пользователей
3. Upload modules - загружать новые преобразователи путем загрузки их библиотек .dll

### Описание библиотеки FormatConverter.Library

IFormatConverter - интерфейс плагина. \
KrsuFormatConverter - абстрактный класс плагинов, выполняющих форматирование в формат KRSU

### Описание блиблотек модулей преобразований FormatConverter.Module.CatsToKrsu/EjudgeToKrsu/Pcms2ToKrsu

Конкретные классы, выполняющие преобразование соответсвующего формата в формат KRSU.
Благодаря тому, что парсеры преобразуют данные в строго-типизированные классы, логика преобразования из одного формата
в другой сводится к соответсвию свойств в одном классе к свойствам другого класса.

### Описание библиотеки парсеров форматов FormatParser.Library

Реализованные парсеры преобразуют данные с формата в строго-типизированные классы с соответствующей иерархической структурой (на подобии Entity Framework Core).
Описание структуры библиотеки: \
Entities - строго-типизированные представления форматов. \
Formats \
CaseConvertors - преобразователи идентификаторов с одного стиля написания на другой, e.g. Camel to Pascal. Используется в целях соотношения имен свойств классов с соответсвующими им данными в формате. \
EntityBuilders - классы, реализующие логику построения строго-типизированных классов на основе 'сырых данных' представленных классами Item, Entity и Property. \
Grammar - грамматики форматов непосредственно читающие заданный формат и преобразующие их в 'сырые данные'. \
Parsers - сами парсеры. Используют все выше перечисленные обьекты для формирования единого целого. \
Infrastructure - методы расширения. \
Readers - считыватели форматов. Отвечают за IO операции с файлами форматов и используют соответсвующие парсеры для десериализации данных. \
Sources - классы, предпологающие распаковку файлов форматов, e.g .zip. \
